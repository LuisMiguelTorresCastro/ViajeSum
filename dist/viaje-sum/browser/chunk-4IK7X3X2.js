import{a as P}from"./chunk-DZHXFIKZ.js";import{$ as h,ba as f,ca as g,j as l,k as a,l as m,m as u,n as s,ra as c,sb as q,v as d}from"./chunk-OC5C35PR.js";var b=(()=>{let e=class e{constructor(t){this.http=t,this.apiUrl="http://localhost:3000"}getPaquetes(){return this.http.get(`${this.apiUrl}/paquetes`)}getPaqueteById(t){return this.http.get(`${this.apiUrl}/paquetes/${t}`)}createReserva(t,o,i){let n={idUsuario:t,idPaquete:o,cantidad:i};return this.http.post(`${this.apiUrl}/reservas`,n)}realizarPago(t,o,i){let n={idReserva:t,idMetodoPago:o,monto:i};return this.http.post(`${this.apiUrl}/pago`,n)}getMetodosPago(){return this.http.get(`${this.apiUrl}/metodos-pago`)}};e.\u0275fac=function(o){return new(o||e)(m(f))},e.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var v=(()=>{let e=class e{constructor(t){this.paqueteService=t,this.paquetes=[],this.metodosPago=[],this.cantidad=1,this.selectedMetodoPago=null,this.idUsuario=1}ngOnInit(){this.obtenerPaquetes(),this.obtenerMetodosPago()}obtenerPaquetes(){this.paqueteService.getPaquetes().subscribe(t=>{this.paquetes=t},t=>{console.error("Error al obtener paquetes:",t)})}obtenerPaqueteDetalles(t){this.paqueteService.getPaqueteById(t).subscribe(o=>{this.paqueteDetalles=o},o=>{console.error("Error al obtener los detalles del paquete:",o)})}crearReserva(){if(this.paqueteDetalles){let t=this.paqueteDetalles.idPaquete;this.paqueteService.createReserva(this.idUsuario,t,this.cantidad).subscribe(o=>{console.log("Reserva creada exitosamente:",o),alert("Reserva creada exitosamente")},o=>{console.error("Error al crear la reserva:",o),alert("Hubo un problema al crear la reserva")})}}obtenerMetodosPago(){this.paqueteService.getMetodosPago().subscribe(t=>{this.metodosPago=t},t=>{console.error("Error al obtener m\xE9todos de pago:",t)})}realizarPago(t){if(this.selectedMetodoPago&&this.paqueteDetalles){let o=this.paqueteDetalles.costo*this.cantidad;this.paqueteService.realizarPago(t,this.selectedMetodoPago,o).subscribe(i=>{console.log("Pago registrado exitosamente:",i),alert("Pago registrado exitosamente")},i=>{console.error("Error al registrar el pago:",i),alert("Hubo un problema al registrar el pago")})}else alert("Por favor selecciona un m\xE9todo de pago")}};e.\u0275fac=function(o){return new(o||e)(d(b))},e.\u0275cmp=u({type:e,selectors:[["app-reg-Paquete"]],decls:0,vars:0,template:function(o,i){}});let r=e;return r})();var D=[{path:"detalles",component:v},{path:"inicio",component:P},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login"}],M=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s({type:e}),e.\u0275inj=a({imports:[c.forChild(D),c]});let r=e;return r})();var R=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s({type:e}),e.\u0275inj=a({imports:[q,g,h,M]});let r=e;return r})();export{R as ReservaModule};

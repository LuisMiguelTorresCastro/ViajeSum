import{a as Y}from"./chunk-KO2PCQE2.js";import{a as X}from"./chunk-DZHXFIKZ.js";import{$ as B,A as e,B as t,C as b,F as P,G as _,H as W,Ha as v,I as D,Ia as J,J as n,Ja as K,K as T,M as p,N as f,O as h,X as G,ba as z,ca as H,e as L,f as N,g as j,k as w,m as M,n as y,o as u,p as m,pa as S,qa as Z,ra as R,sb as Q,ta as E,u as g,v as C,va as V,wa as U,x as A,xa as O,y as x,ya as k,za as F}from"./chunk-OC5C35PR.js";var $="body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;display:flex;flex-direction:column;align-items:center;padding:20px;margin:0;background-color:#f4f4f4}header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px;height:auto}main[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-section[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;padding:20px}h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333;text-align:center}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}p[_ngcontent-%COMP%]{margin:0;color:#555}input[type=email][_ngcontent-%COMP%]{padding:12px;border:1px solid #ccc;border-radius:4px;font-size:1rem}input[type=email][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}input[type=password][_ngcontent-%COMP%]{padding:12px;border:1px solid #ccc;border-radius:4px;font-size:1rem}input[type=password][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}button[_ngcontent-%COMP%]{padding:12px;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.social-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0 5px;background-color:#f0f0f0;color:#333;border:1px solid #ccc;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background-color .3s}.social-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.social-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;margin-right:5px}footer[_ngcontent-%COMP%]{margin-top:20px;text-align:center;color:#777;font-size:.9rem}",ee=(()=>{let r=class r{constructor(c){this.router=c}onSubmit(c){return L(this,null,function*(){if(c.invalid){alert("Por favor, completa todos los campos.");return}let l=c.value.email,o=c.value.password;try{let a=yield fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({correoUsuario:l,contrase\u00F1aUsuario:o})}),d=yield a.json();a.ok?(alert("Inicio de sesi\xF3n exitoso."),localStorage.setItem("token",d.token),d.isAdmin?this.router.navigate(["/Auth/adm"]):this.router.navigate(["/Viajes/inicio"])):alert(d.message||"Credenciales inv\xE1lidas.")}catch(a){console.error("Error al iniciar sesi\xF3n:",a),alert("Hubo un problema al iniciar sesi\xF3n. Int\xE9ntalo de nuevo.")}})}};r.\u0275fac=function(l){return new(l||r)(C(S))},r.\u0275cmp=M({type:r,selectors:[["app-login"]],decls:49,vars:0,consts:[["loginForm","ngForm"],["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["alt","ViajesSum"],[1,"login-section"],[3,"ngSubmit"],["type","email","name","email","ngModel","","placeholder","Ingresa tu correo electr\xF3nico","required","","aria-required","true"],["type","password","name","password","ngModel","","placeholder","Ingresa tu contrase\xF1a","required","","aria-required","true"],["type","submit"],["href","/Login/register"],[1,"social-buttons"],["type","button","aria-label","Iniciar sesi\xF3n con Google"],["src","assets/images/icon.google.png","alt","Logo de Google"],["type","button","aria-label","Iniciar sesi\xF3n con Facebook"],["src","assets/images/icon.facebook.png","alt","Logo de Facebook"],["href","#"]],template:function(l,o){if(l&1){let a=P();e(0,"html",1)(1,"head"),b(2,"meta",2)(3,"meta",3),e(4,"title"),n(5,"Trivago"),t()(),e(6,"body")(7,"header")(8,"h1"),b(9,"img",4),t()(),e(10,"main")(11,"section",5)(12,"h2"),n(13,"Accede a m\xE1s ahorros"),t(),e(14,"form",6,0),_("ngSubmit",function(){u(a);let i=D(15);return m(o.onSubmit(i))}),e(16,"p"),n(17,"Inicia sesi\xF3n:"),t(),b(18,"input",7)(19,"input",8),e(20,"button",9),n(21,"Continuar"),t()(),e(22,"p"),n(23," No tienes una cuenta? "),e(24,"a",10),n(25,"Reg\xEDstrate"),t(),e(26,"a"),n(27,". "),t(),e(28,"a"),n(29,"o contin\xFAa con:"),t(),n(30,". "),t(),e(31,"div",11)(32,"button",12),b(33,"img",13),n(34,"Google "),t(),e(35,"button",14),b(36,"img",15),n(37,"Facebook "),t()(),e(38,"p"),n(39," Al crear una cuenta, aceptas nuestro "),e(40,"a",16),n(41,"aviso de privacidad"),t(),n(42," y los "),e(43,"a",16),n(44,"t\xE9rminos de uso"),t(),n(45,". "),t()()(),e(46,"footer")(47,"p"),n(48,"\xA9 2024 ViajeSum. Todos los derechos reservados."),t()()()()}},dependencies:[F,E,V,U,v,k,O],styles:[$,$]});let s=r;return s})();function ae(s,r){s&1&&(e(0,"ul")(1,"li"),n(2,"Al menos 8 caracteres"),t(),e(3,"li"),n(4,"Al menos una letra may\xFAscula"),t(),e(5,"li"),n(6,"Al menos un n\xFAmero"),t(),e(7,"li"),n(8,"Al menos un s\xEDmbolo"),t()())}function se(s,r){if(s&1&&(e(0,"div",36),n(1),t()),s&2){let I=W();g(),T(I.errorMessage)}}function le(s,r){if(s&1&&(e(0,"div",37),n(1),t()),s&2){let I=W();g(),T(I.successMessage)}}var te="body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#e0f7fa;margin:0;padding:20px}.container[_ngcontent-%COMP%]{max-width:350px;margin:auto;padding:40px;border:1px solid #ccc;border-radius:10px;background-color:#fff;box-shadow:0 4px 20px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#007bff;margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin:10px 0 5px;font-weight:700;color:#555}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:94%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;transition:border-color .3s}input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}ul[_ngcontent-%COMP%]{padding-left:20px;margin:15px 0;color:#555}.social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:15px 0}button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.social-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.social-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0 5px;background-color:#f0f0f0;color:#333;border:1px solid #ccc;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background-color .3s}.social-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.social-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;margin-right:5px}p[_ngcontent-%COMP%]{text-align:center;margin:10px 0;color:#333;font-weight:700}.back-button[_ngcontent-%COMP%]{margin-top:15px;background-color:transparent;color:#007bff;border:none;cursor:pointer;text-decoration:underline;font-size:16px}.back-button[_ngcontent-%COMP%]:hover{color:#0056b3}",oe=(()=>{let r=class r{constructor(c,l){this.http=c,this.router=l,this.nombreUsuario="",this.apellidoUsuario="",this.telefonoUsuario="",this.correoUsuario="",this.direccionUsuario="",this.ciudad="",this.estado="",this.codigoPostal="",this.password="",this.confirmPassword="",this.isPasswordValid=!1,this.errorMessage="",this.successMessage=""}checkPassword(){let c=/[A-Z]/.test(this.password),l=/[0-9]/.test(this.password),o=/[!@#$%^&*]/.test(this.password),a=this.password.length>=8;this.isPasswordValid=c&&l&&o&&a}onSubmit(){if(this.password!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden";return}if(this.checkPassword(),!this.isPasswordValid){this.errorMessage="La contrase\xF1a debe tener al menos 8 caracteres, una may\xFAscula, un n\xFAmero y un s\xEDmbolo.";return}let c={nombreUsuario:this.nombreUsuario,apellidoUsuario:this.apellidoUsuario,telefonoUsuario:this.telefonoUsuario,correoUsuario:this.correoUsuario,contrase\u00F1aUsuario:this.password,direccionUsuario:this.direccionUsuario,ciudad:this.ciudad,estado:this.estado,codigoPostal:this.codigoPostal,rolUsuario:"cliente"};console.log("Datos enviados:",c),this.http.post("http://localhost:3000/register",c).pipe(j(l=>(console.error(l),this.errorMessage="Error al registrar el usuario: "+(l.error?.message||"Desconocido"),this.successMessage="",N(l)))).subscribe({next:l=>{this.successMessage="Usuario registrado con \xE9xito",this.errorMessage="",this.router.navigate(["/Viajes/inicio"])}})}loginWithGoogle(){console.log("Iniciando sesi\xF3n con Google")}loginWithFacebook(){console.log("Iniciando sesi\xF3n con Facebook")}};r.\u0275fac=function(l){return new(l||r)(C(z),C(S))},r.\u0275cmp=M({type:r,selectors:[["app-register"]],decls:56,vars:13,consts:[["registerForm","ngForm"],["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],["id","register-form","method","POST",3,"ngSubmit"],["for","nombreUsuario"],["type","text","id","nombreUsuario","name","nombreUsuario","placeholder","Ingresa tu nombre","required","","aria-required","true",3,"ngModelChange","ngModel"],["for","apellidoUsuario"],["type","text","id","apellidoUsuario","name","apellidoUsuario","placeholder","Ingresa tu apellido","required","","aria-required","true",3,"ngModelChange","ngModel"],["for","telefonoUsuario"],["type","text","id","telefonoUsuario","name","telefonoUsuario","placeholder","Ingresa tu tel\xE9fono","required","","aria-required","true",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","correoUsuario","name","correoUsuario","placeholder","Ingresa tu correo electr\xF3nico","required","","aria-required","true",3,"ngModelChange","ngModel"],["for","direccionUsuario"],["type","text","id","direccionUsuario","name","direccionUsuario","placeholder","Ingresa tu direcci\xF3n","required","","aria-required","true",3,"ngModelChange","ngModel"],["for","ciudad"],["type","text","id","ciudad","name","ciudad","placeholder","Ingresa tu ciudad","required","","aria-required","true",3,"ngModelChange","ngModel"],["for","estado"],["type","text","id","estado","name","estado","placeholder","Ingresa tu estado","required","","aria-required","true",3,"ngModelChange","ngModel"],["for","codigoPostal"],["type","text","id","codigoPostal","name","codigoPostal","placeholder","Ingresa tu c\xF3digo postal","required","","aria-required","true",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","aria-required","true","minlength","8","pattern","(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])",3,"ngModelChange","input","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","aria-required","true",3,"ngModelChange","ngModel"],[4,"ngIf"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"social-buttons"],["type","button","aria-label","Iniciar sesi\xF3n con Google",3,"click"],["src","assets/images/icon.google.png","alt","Logo de Google"],["type","button","aria-label","Iniciar sesi\xF3n con Facebook",3,"click"],["src","assets/images/icon.facebook.png","alt","Logo de Facebook"],[3,"click"],["routerLink","/Viajes/inicio",1,"back-button"],[1,"error-message"],[1,"success-message"]],template:function(l,o){if(l&1){let a=P();e(0,"html",1)(1,"head"),b(2,"meta",2)(3,"meta",3),e(4,"title"),n(5,"ViajesSum - Registro"),t()(),e(6,"body")(7,"div",4)(8,"form",5,0),_("ngSubmit",function(){return u(a),m(o.onSubmit())}),e(10,"p"),n(11,"Crea una cuenta con tu email:"),t(),e(12,"label",6),n(13,"Nombre:"),t(),e(14,"input",7),h("ngModelChange",function(i){return u(a),f(o.nombreUsuario,i)||(o.nombreUsuario=i),m(i)}),t(),e(15,"label",8),n(16,"Apellido:"),t(),e(17,"input",9),h("ngModelChange",function(i){return u(a),f(o.apellidoUsuario,i)||(o.apellidoUsuario=i),m(i)}),t(),e(18,"label",10),n(19,"Tel\xE9fono:"),t(),e(20,"input",11),h("ngModelChange",function(i){return u(a),f(o.telefonoUsuario,i)||(o.telefonoUsuario=i),m(i)}),t(),e(21,"label",12),n(22,"Correo Electr\xF3nico:"),t(),e(23,"input",13),h("ngModelChange",function(i){return u(a),f(o.correoUsuario,i)||(o.correoUsuario=i),m(i)}),t(),e(24,"label",14),n(25,"Direcci\xF3n:"),t(),e(26,"input",15),h("ngModelChange",function(i){return u(a),f(o.direccionUsuario,i)||(o.direccionUsuario=i),m(i)}),t(),e(27,"label",16),n(28,"Ciudad:"),t(),e(29,"input",17),h("ngModelChange",function(i){return u(a),f(o.ciudad,i)||(o.ciudad=i),m(i)}),t(),e(30,"label",18),n(31,"Estado:"),t(),e(32,"input",19),h("ngModelChange",function(i){return u(a),f(o.estado,i)||(o.estado=i),m(i)}),t(),e(33,"label",20),n(34,"C\xF3digo Postal:"),t(),e(35,"input",21),h("ngModelChange",function(i){return u(a),f(o.codigoPostal,i)||(o.codigoPostal=i),m(i)}),t(),e(36,"label",22),n(37,"Contrase\xF1a:"),t(),e(38,"input",23),h("ngModelChange",function(i){return u(a),f(o.password,i)||(o.password=i),m(i)}),_("input",function(){return u(a),m(o.checkPassword())}),t(),e(39,"label",24),n(40,"Confirmar Contrase\xF1a:"),t(),e(41,"input",25),h("ngModelChange",function(i){return u(a),f(o.confirmPassword,i)||(o.confirmPassword=i),m(i)}),t(),A(42,ae,9,0,"ul",26)(43,se,2,1,"div",27)(44,le,2,1,"div",28),e(45,"div",29)(46,"button",30),_("click",function(){return u(a),m(o.loginWithGoogle())}),b(47,"img",31),n(48," Google "),t(),e(49,"button",32),_("click",function(){return u(a),m(o.loginWithFacebook())}),b(50,"img",33),n(51," Facebook "),t()(),e(52,"button",34),_("click",function(){return u(a),m(o.onSubmit())}),n(53,"Registrar"),t()(),e(54,"button",35),n(55,"Volver a Iniciar sesi\xF3n"),t()()()()}l&2&&(g(14),p("ngModel",o.nombreUsuario),g(3),p("ngModel",o.apellidoUsuario),g(3),p("ngModel",o.telefonoUsuario),g(3),p("ngModel",o.correoUsuario),g(3),p("ngModel",o.direccionUsuario),g(3),p("ngModel",o.ciudad),g(3),p("ngModel",o.estado),g(3),p("ngModel",o.codigoPostal),g(3),p("ngModel",o.password),g(3),p("ngModel",o.confirmPassword),g(),x("ngIf",!o.isPasswordValid),g(),x("ngIf",o.errorMessage),g(),x("ngIf",o.successMessage))},dependencies:[G,F,E,V,U,v,J,K,k,O,Z],styles:[te,te]});let s=r;return s})();var de=[{path:"login",component:ee},{path:"register",component:oe},{path:"adm",component:Y},{path:"inicio",component:X},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login"}],ie=(()=>{let r=class r{};r.\u0275fac=function(l){return new(l||r)},r.\u0275mod=y({type:r}),r.\u0275inj=w({imports:[R.forChild(de),R]});let s=r;return s})();var Fe=(()=>{let r=class r{};r.\u0275fac=function(l){return new(l||r)},r.\u0275mod=y({type:r}),r.\u0275inj=w({imports:[B,Q,H,ie]});let s=r;return s})();export{Fe as LoginModule};
